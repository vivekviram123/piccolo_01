(function(e){function t(t){for(var r,s,i=t[0],c=t[1],u=t[2],p=0,m=[];p<i.length;p++)s=i[p],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&m.push(a[s][0]),a[s]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);l&&l(t);while(m.length)m.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,i=1;i<n.length;i++){var c=n[i];0!==a[c]&&(r=!1)}r&&(o.splice(t--,1),e=s(s.s=n[0]))}return e}var r={},a={app:0},o=[];function s(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=r,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(n,r,function(t){return e[t]}.bind(null,r));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var l=c;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"0194":function(e,t,n){"use strict";n("4af9")},"0218":function(e,t,n){},"0389":function(e,t,n){"use strict";n("7a4e")},"0647":function(e,t,n){"use strict";n("8e3c")},"0db3":function(e,t,n){},1461:function(e,t,n){},"16a4":function(e,t,n){},1880:function(e,t,n){"use strict";n("e986")},"1b68":function(e,t,n){},"29ab":function(e,t,n){"use strict";n("16a4")},"2d63":function(e,t,n){},"2eae":function(e,t,n){"use strict";n("52a8")},3180:function(e,t,n){"use strict";n("1461")},"33d1":function(e,t,n){"use strict";n("fb06")},"375f":function(e,t,n){},"390f":function(e,t,n){},"40ff":function(e,t,n){},"4af9":function(e,t,n){},"4fde":function(e,t,n){"use strict";n("52ab")},"52a8":function(e,t,n){},"52ab":function(e,t,n){},"52e2":function(e,t,n){},"5f64":function(e,t,n){},"62dc":function(e,t,n){},6524:function(e,t,n){"use strict";n("0db3")},"680a":function(e,t,n){"use strict";n("5f64")},"704e":function(e,t,n){},7191:function(e,t,n){"use strict";n("9ed3")},7204:function(e,t,n){},"7a4e":function(e,t,n){},"7c55":function(e,t,n){"use strict";n("c163")},"7dd9":function(e,t,n){"use strict";n("8c77")},"8c77":function(e,t,n){},"8e3c":function(e,t,n){},9221:function(e,t,n){"use strict";n("e179")},"965b":function(e,t,n){"use strict";n("c6d0")},"9b6b":function(e,t,n){"use strict";n("1b68")},"9d86":function(e,t,n){"use strict";n("62dc")},"9ed3":function(e,t,n){},a07d:function(e,t,n){"use strict";n("0218")},a30c:function(e,t,n){},a916:function(e,t,n){},afbe:function(e,t,n){"use strict";n("2d63")},c163:function(e,t,n){},c25e:function(e,t,n){"use strict";n("7204")},c2ce:function(e,t,n){},c6d0:function(e,t,n){},c9bc:function(e,t,n){"use strict";n("375f")},cd49:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("4de4"),n("d3b7"),n("a15b"),n("ac1f"),n("1276");var r=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:{dark_mode:e.darkMode,light_mode:!e.darkMode},attrs:{id:"app"}},[n("router-view"),n("MessagePopup"),e.showAboutModal?n("AboutModal"):e._e()],1)},o=[],s=n("1da1"),i=(n("96cf"),n("bc3a")),c=n.n(i),u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Modal",{on:{close:e.hideAboutModal}},[n("h1",[e._v("About")]),n("p",[e._v("Thanks for using Piccolo Admin.")]),n("p",[e._v("Version "+e._s(e.piccoloAdminVersion))])])},l=[],p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"overlay"}},[n("div",{staticClass:"modal opaque"},[n("div",{staticClass:"heading"},[n("h1",[e._v(e._s(e.title))]),n("p",{staticClass:"close"},[n("a",{staticClass:"subtle",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.$emit("close")}}},[n("font-awesome-icon",{attrs:{icon:"times"}})],1)])]),e._t("default")],2)])},m=[],d={props:{title:{type:String,default:""}}},f=d,h=(n("9b6b"),n("2877")),v=Object(h["a"])(f,p,m,!1,null,"3304f6d2",null),w=v.exports,g={components:{Modal:w},computed:{piccoloAdminVersion:function(){return this.$store.state.metaModule.piccoloAdminVersion}},methods:{hideAboutModal:function(){this.$store.commit("updateShowAboutModal",!1)}}},b=g,_=Object(h["a"])(b,u,l,!1,null,null,null),y=_.exports,x=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.visible?n("div",{class:{error:"error"==e.apiResponseMessage.type},attrs:{id:"message_popup"}},[n("p",{staticClass:"message"},[e._v(e._s(e.message))]),n("p",{staticClass:"close"},[n("a",{staticClass:"subtle",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.visible=!1}}},[n("font-awesome-icon",{attrs:{icon:"times"}})],1)])]):e._e()},R=[],N=r["a"].extend({data:function(){return{visible:!1,timeLastAppeared:0}},computed:{message:function(){return this.apiResponseMessage?this.apiResponseMessage.contents:"-"},apiResponseMessage:function(){return this.$store.state.apiResponseMessage}},methods:{getTime:function(){return(new Date).getTime()}},watch:{visible:function(){this.timeLastAppeared=this.getTime()},apiResponseMessage:function(){var e=this;this.visible=!0;var t=this;setTimeout((function(){var n=e.getTime();n-t.timeLastAppeared>=3e3&&(t.visible=!1)}),3e3)}}}),k=N,S=(n("6524"),Object(h["a"])(k,x,R,!1,null,null,null)),O=S.exports,$=r["a"].extend({components:{AboutModal:y,MessagePopup:O},computed:{darkMode:function(){return this.$store.state.darkMode},showAboutModal:function(){return this.$store.state.aboutModalModule.showAboutModal}},created:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=JSON.parse(localStorage.getItem("darkMode")),null===n&&(n=!1),e.$store.commit("updateDarkMode",n),t.next=5,e.$store.dispatch("fetchMeta");case 5:case"end":return t.stop()}}),t)})))()},beforeCreate:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e,c.a.interceptors.response.use((function(e){return e}),(function(e){if(e.response&&401==e.response.status){console.log("Login required");var t=n.$route.path;"/login"!==t&&setTimeout((function(){n.$router.push({name:"login",query:{nextURL:t}})}),0)}return Promise.reject(e)})),c.a.interceptors.response.use((function(e){return e}),(function(e){if(e.response&&405==e.response.status){console.log("Method not allowed");var t={contents:"Method not supported - running in read only mode.",type:"error"};n.$store.commit("updateApiResponseMessage",t)}return Promise.reject(e)})),c.a.interceptors.response.use((function(e){return e}),(function(e){return e.response&&404==e.response.status&&(console.log("Page not found"),alert("Page not found"),n.$router.push({name:"home"})),Promise.reject(e)})),c.a.interceptors.response.use((function(e){return e}),(function(e){if(e.response&&502==e.response.status){console.log("The server can't be reached.");var t={contents:"The server can't be reached - please try later.",type:"error"};n.$store.commit("updateApiResponseMessage",t)}return Promise.reject(e)})),t.next=7,e.$store.dispatch("fetchUser");case 7:case"end":return t.stop()}}),t)})))()}}),j=$,D=(n("7c55"),Object(h["a"])(j,a,o,!1,null,null,null)),C=D.exports,F=n("8c4f"),A=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("DetailViewBase",[e.schema?n("AddRowForm",{attrs:{schema:e.schema,tableName:e.tableName}}):e._e()],1)},M=[],P=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h1",[e._v("Add "+e._s(e._f("readable")(e.tableName)))]),n("pre",[e._v(e._s(e.errors))]),e.defaults?n("form",{on:{submit:function(t){return t.preventDefault(),e.submitForm(t)}}},[n("RowFormSelect",{attrs:{row:e.defaults,schema:e.schema}}),n("button",[e._v("Create")])],1):e._e()])},T=[],V=n("b85c"),E=(n("e9c4"),n("ddb0"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.row?n("div",e._l(e.schema.properties,(function(t,r){return n("div",{key:t.title},[t.extra.foreign_key?[n("label",[e._v(" "+e._s(t.title)+" "),e.isRequired(r)?n("span",{staticClass:"required"},[e._v("*")]):e._e(),t.extra.help_text?n("Tooltip",{attrs:{content:t.extra.help_text}}):e._e(),e.isFilter?e._e():n("router-link",{staticClass:"add",attrs:{to:{name:"addRow",params:{tableName:t.extra.to}},target:"_blank"}},[n("font-awesome-icon",{attrs:{icon:"plus"}})],1),e.isFilter?e._e():n("router-link",{staticClass:"add",attrs:{to:{name:"editRow",params:{tableName:t.extra.to,rowID:e.getKeySelectID(t.title)}},target:"_blank"}},[n("font-awesome-icon",{attrs:{icon:"edit"}})],1)],1),n("KeySearch",{key:e.getValue(t.title),attrs:{fieldName:t.title.toLowerCase(),tableName:t.extra.to,rowID:e.getValue(t.title),readable:e.getValue(t.title+"_readable"),isNullable:t.nullable}})]:[n("label",[e._v(" "+e._s(t.title)+" "),e.isRequired(r)?n("span",{staticClass:"required"},[e._v("*")]):e._e(),t.extra.help_text?n("Tooltip",{attrs:{content:t.extra.help_text}}):e._e()],1),n("InputField",{key:t.title,attrs:{format:t.format,isFilter:e.isFilter,isNullable:t.nullable,required:e.isRequired(r),title:t.title,type:t.type||t.anyOf[0].type,value:e.getValue(t.title),choices:t.extra.choices}})]],2)})),0):e._e()}),B=[],I=(n("99af"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"key_search"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedValue,expression:"selectedValue"}],attrs:{autocomplete:"off",placeholder:e.isFilter?"All":"None",type:"text",name:e.fieldName},domProps:{value:e.selectedValue},on:{focus:function(t){e.showModal=!0},keydown:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;t.preventDefault()},input:function(t){t.target.composing||(e.selectedValue=t.target.value)}}}),n("input",{attrs:{type:"hidden",name:e.fieldName},domProps:{value:e.hiddenSelectedValue}}),n("KeySearchModal",{directives:[{name:"show",rawName:"v-show",value:e.showModal,expression:"showModal"}],attrs:{isFilter:e.isFilter,tableName:e.tableName},on:{close:function(t){e.showModal=!1},update:function(t){return e.handleUpdate(t)}}})],1)}),L=[],z=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Modal",{attrs:{title:"Select a row from "+e.readableTableName},on:{close:function(t){return e.$emit("close")}}},[n("div",{staticClass:"input_wrapper"},[n("font-awesome-icon",{attrs:{icon:"search"}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.searchTerm,expression:"searchTerm"}],attrs:{autocomplete:"off",placeholder:"Type here to filter",type:"search"},domProps:{value:e.searchTerm},on:{input:function(t){t.target.composing||(e.searchTerm=t.target.value)}}})],1),n("div",{staticClass:"results"},[n("ul",{staticClass:"results_list"},[e.isFilter?n("li",[n("a",{attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.selectResult(null,"")}}},[e._v("All")])]):e._e(),e.isNullable?n("li",[n("a",{attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.selectResult(null,"Null")}}},[e._v("None")])]):e._e(),e._l(e.ids,(function(t){return n("li",{key:t[0]},[n("a",{attrs:{href:"#"},on:{click:function(n){return n.preventDefault(),e.selectResult.apply(void 0,t)}}},[e._v(" "+e._s(t[1])+" ")])])})),e.limitReached?e._e():n("li",[n("a",{attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.loadMore.apply(null,arguments)}}},[n("font-awesome-icon",{attrs:{icon:"arrow-circle-down"}}),e._v(" Load more")],1)])],2)])])},H=[],q=n("2909");n("4fad"),n("fb6a"),n("d81d"),n("5319");function J(e){if(0===e)return"0 seconds";var t=Math.floor(e/604800),n=Math.floor(e/86400%7),r=Math.floor(e%86400/3600),a=Math.floor(e%3600/60),o=Math.floor(e%60),s=t>0?t+(1==t?" week ":" weeks "):"",i=n>0?n+(1==n?" day ":" days "):"",c=r>0?r+(1==r?" hour ":" hours "):"",u=a>0?a+(1==a?" minute ":" minutes "):"",l=o>0?o+(1==o?" second":" seconds"):"";return s+i+c+u+l}function U(e){return e.toLowerCase().split(" ").map((function(e){return e.replace(e[0],e[0].toUpperCase())})).join(" ")}var K=5,W={props:{tableName:String,isFilter:{type:Boolean,default:!1},isNullable:{type:Boolean,default:!0}},data:function(){return{ids:[],offset:0,limitReached:!1,searchTerm:"",debounceTimer:null}},components:{Modal:w},computed:{readableTableName:function(){return U(this.tableName.split("_").join(" "))}},methods:{fetchData:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={tableName:e.tableName,search:e.searchTerm,limit:K+1,offset:e.offset},t.next=3,e.$store.dispatch("fetchIds",n);case 3:return r=t.sent,a=Object.entries(r.data),e.limitReached=a.length<=K,t.abrupt("return",a.slice(0,K));case 7:case"end":return t.stop()}}),t)})))()},scrollResultsToBottom:function(){setTimeout((function(){var e=document.getElementsByClassName("results_list")[0];e.scrollIntoView(!1)}),0)},loadMore:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.offset+=K,t.next=3,e.fetchData();case 3:r=t.sent,(n=e.ids).push.apply(n,Object(q["a"])(r)),e.scrollResultsToBottom();case 6:case"end":return t.stop()}}),t)})))()},selectResult:function(e,t){this.$emit("update",{id:e,readable:t})}},watch:{tableName:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.offset=0,t.next=3,e.fetchData();case 3:e.ids=t.sent;case 4:case"end":return t.stop()}}),t)})))()},searchTerm:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.debounceTimer&&clearTimeout(e.debounceTimer),n=e,e.debounceTimer=setTimeout(Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n.offset=0,e.next=3,n.fetchData();case 3:n.ids=e.sent;case 4:case"end":return e.stop()}}),e)}))),300);case 3:case"end":return t.stop()}}),t)})))()}},mounted:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.fetchData();case 2:e.ids=t.sent;case 3:case"end":return t.stop()}}),t)})))()}},G=W,Y=(n("d86f"),Object(h["a"])(G,z,H,!1,null,"ba15fc26",null)),X=Y.exports,Q={props:{fieldName:String,tableName:String,rowID:void 0,readable:void 0,isFilter:{type:Boolean,default:!1},isNullable:{type:Boolean,default:!1}},data:function(){return{ids:[],selectedValue:void 0,hiddenSelectedValue:void 0,showModal:!1}},methods:{handleUpdate:function(e){this.selectedValue=e.readable,this.hiddenSelectedValue=e.id,this.showModal=!1}},components:{KeySearchModal:X},mounted:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.selectedValue=e.readable,e.hiddenSelectedValue=e.rowID;case 2:case"end":return t.stop()}}),t)})))()}},Z=Q,ee=Object(h["a"])(Z,I,L,!1,null,null,null),te=ee.exports,ne=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.choices?[e.isFilter?n("OperatorField",{attrs:{fieldName:e.getFieldName(e.title)}}):e._e(),n("ChoiceSelect",{attrs:{choices:e.choices,fieldName:e.getFieldName(e.title),isFilter:e.isFilter,isNullable:e.isNullable,value:e.value}})]:"integer"==e.type?[e.isFilter?n("OperatorField",{attrs:{fieldName:e.getFieldName(e.title)}}):e._e(),n("input",{attrs:{step:"1",type:"number",name:e.getFieldName(e.title),placeholder:e.placeholder},domProps:{value:e.value}})]:"string"==e.type?["date-time"==e.format?[e.isFilter?n("OperatorField",{attrs:{fieldName:e.getFieldName(e.title)}}):e._e(),n("flat-pickr",{attrs:{config:{enableTime:!0,disableMobile:"true"},name:e.getFieldName(e.title)},model:{value:e.localValue,callback:function(t){e.localValue=t},expression:"localValue"}})]:"text-area"==e.format&&0==e.isFilter?n("div",[n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.localValue,expression:"localValue"}],ref:"textarea",style:{height:e.textareaHeight},attrs:{autocomplete:"off",name:e.getFieldName(e.title),placeholder:e.placeholder},domProps:{value:e.localValue},on:{input:[function(t){t.target.composing||(e.localValue=t.target.value)},e.setTextareaHeight]}})]):"json"==e.format?n("div",[n("textarea",{ref:"textarea",style:{height:e.textareaHeight},attrs:{autocomplete:"off",name:e.getFieldName(e.title)},domProps:{value:JSON.stringify(JSON.parse(e.value),null,2)},on:{input:e.setTextareaHeight}})]):n("input",{directives:[{name:"model",rawName:"v-model",value:e.localValue,expression:"localValue"}],attrs:{type:"text",name:e.getFieldName(e.title),placeholder:e.placeholder},domProps:{value:e.localValue},on:{input:function(t){t.target.composing||(e.localValue=t.target.value)}}})]:"boolean"==e.type?[n("select",{attrs:{name:e.getFieldName(e.title)}},[e.isFilter?n("option",{attrs:{value:"all"},domProps:{selected:"all"==e.value}},[e._v("All")]):e._e(),e.isNullable?n("option",{attrs:{value:"null"},domProps:{selected:null==e.value}},[e._v("Null")]):e._e(),n("option",{attrs:{value:"true"},domProps:{selected:1==e.value}},[e._v("True")]),n("option",{attrs:{value:"false"},domProps:{selected:0==e.value}},[e._v("False")])])]:"number"==e.type?["time-delta"==e.format?[e.isFilter?n("OperatorField",{attrs:{fieldName:e.title.toLowerCase()}}):e._e(),n("DurationWidget",{attrs:{timedelta:e.localValue},on:{newTimedelta:function(t){return e.updateLocalValue(t)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.localValue,expression:"localValue"}],attrs:{type:"hidden",name:e.getFieldName(e.title)},domProps:{value:e.localValue},on:{input:function(t){t.target.composing||(e.localValue=t.target.value)}}})]:[e.isFilter?n("OperatorField",{attrs:{fieldName:e.title.toLowerCase()}}):e._e(),n("input",{directives:[{name:"model",rawName:"v-model",value:e.localValue,expression:"localValue"}],attrs:{type:"text",name:e.getFieldName(e.title),placeholder:e.placeholder},domProps:{value:e.localValue},on:{input:function(t){t.target.composing||(e.localValue=t.target.value)}}})]]:"array"==e.type?[n("ArrayWidget",{attrs:{array:e.localValue},on:{updateArray:function(t){e.localValue=t}}}),n("input",{attrs:{type:"hidden",name:e.getFieldName(e.title)},domProps:{value:JSON.stringify(e.localValue)}})]:e._e()],2)},re=[],ae=n("c38f"),oe=n.n(ae),se=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("ul",{staticClass:"array_items"},[e._l(e.internalArray,(function(t,r){return n("li",{key:r},[n("input",{attrs:{type:e.inputType,id:"choice"},domProps:{value:t},on:{change:function(t){return e.updateArray(t,r)}}}),n("a",{attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.removeArrayElement(r)}}},[n("font-awesome-icon",{attrs:{icon:"times"}})],1)])})),n("li",[n("a",{attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.addArrayElement.apply(null,arguments)}}},[n("font-awesome-icon",{attrs:{icon:"plus"}}),e._v("Add ")],1)])],2)])},ie=[],ce={props:{array:{type:Array,default:function(){return[]}},inputType:{type:String,default:"text"}},data:function(){return{internalArray:[]}},methods:{updateArray:function(e,t){this.$set(this.internalArray,t,e.target.value),this.$emit("updateArray",this.internalArray)},addArrayElement:function(){this.internalArray=[].concat(Object(q["a"])(this.internalArray),[""]),this.$emit("updateArray",this.internalArray)},removeArrayElement:function(e){this.$delete(this.internalArray,e),this.$emit("updateArray",this.internalArray)}},watch:{array:function(){this.internalArray=Object(q["a"])(this.array)}},mounted:function(){this.internalArray=Object(q["a"])(this.array)}},ue=ce,le=(n("0389"),Object(h["a"])(ue,se,ie,!1,null,"2a6db40a",null)),pe=le.exports,me=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("select",{directives:[{name:"model",rawName:"v-model",value:e.localValue,expression:"localValue"}],attrs:{name:e.fieldName},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.localValue=t.target.multiple?n:n[0]}}},[e.isFilter?n("option",{attrs:{value:"all"},domProps:{selected:"all"==e.value}},[e._v(" All ")]):e._e(),e.isNullable?n("option",{attrs:{value:"null"},domProps:{selected:null==e.value}},[e._v(" Null ")]):e._e(),e._l(e.choices,(function(t,r){return n("option",{key:r,domProps:{selected:e.value==t.value,value:t.value}},[e._v(" "+e._s(t.display_name)+" ")])}))],2)},de=[],fe=r["a"].extend({props:{fieldName:{type:String,default:""},value:{type:void 0,default:void 0},choices:{type:Object,default:function(){return{}}},isNullable:{type:Boolean,default:!1},isFilter:{type:Boolean,default:!1}},data:function(){return{localValue:""}},mounted:function(){this.localValue=this.isFilter?"all":this.value},watch:{value:function(e){this.localValue=e}}}),he=fe,ve=Object(h["a"])(he,me,de,!1,null,null,null),we=ve.exports,ge=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"timedelta_widget"},[n("div",{staticClass:"segment"},[n("p",[e._v("Weeks")]),n("select",{directives:[{name:"model",rawName:"v-model.number",value:e.weeks,expression:"weeks",modifiers:{number:!0}}],on:{change:[function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(t){var n="_value"in t?t._value:t.value;return e._n(n)}));e.weeks=t.target.multiple?n:n[0]},e.emitEvent]}},e._l(e.weekRange,(function(t){return n("option",{key:"w"+t},[e._v(e._s(t))])})),0)]),n("div",{staticClass:"segment"},[n("p",[e._v("Days")]),n("select",{directives:[{name:"model",rawName:"v-model.number",value:e.days,expression:"days",modifiers:{number:!0}}],on:{change:[function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(t){var n="_value"in t?t._value:t.value;return e._n(n)}));e.days=t.target.multiple?n:n[0]},e.emitEvent]}},e._l(e.dayRange,(function(t){return n("option",{key:"d"+t},[e._v(e._s(t))])})),0)]),n("div",{staticClass:"segment"},[n("p",[e._v("Hours")]),n("select",{directives:[{name:"model",rawName:"v-model.number",value:e.hours,expression:"hours",modifiers:{number:!0}}],on:{change:[function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(t){var n="_value"in t?t._value:t.value;return e._n(n)}));e.hours=t.target.multiple?n:n[0]},e.emitEvent]}},e._l(e.hourRange,(function(t){return n("option",{key:"h"+t},[e._v(e._s(t))])})),0)]),n("div",{staticClass:"segment"},[n("p",[e._v("Minutes")]),n("select",{directives:[{name:"model",rawName:"v-model.number",value:e.minutes,expression:"minutes",modifiers:{number:!0}}],on:{change:[function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(t){var n="_value"in t?t._value:t.value;return e._n(n)}));e.minutes=t.target.multiple?n:n[0]},e.emitEvent]}},e._l(e.minuteRange,(function(t){return n("option",{key:"m"+t},[e._v(e._s(t))])})),0)]),n("div",{staticClass:"segment"},[n("p",[e._v("Seconds")]),n("select",{directives:[{name:"model",rawName:"v-model.number",value:e.seconds,expression:"seconds",modifiers:{number:!0}}],on:{change:[function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(t){var n="_value"in t?t._value:t.value;return e._n(n)}));e.seconds=t.target.multiple?n:n[0]},e.emitEvent]}},e._l(e.secondRange,(function(t){return n("option",{key:"s"+t},[e._v(e._s(t))])})),0)])])},be=[],_e=(n("a9e3"),60),ye=60*_e,xe=24*ye,Re=7*xe,Ne={props:{timedelta:{default:0,type:Number}},data:function(){return{weekRange:Object(q["a"])(Array(500).keys()),dayRange:Object(q["a"])(Array(7).keys()),hourRange:Object(q["a"])(Array(24).keys()),minuteRange:Object(q["a"])(Array(60).keys()),secondRange:Object(q["a"])(Array(60).keys()),weeks:void 0,days:void 0,hours:void 0,minutes:void 0,seconds:void 0}},methods:{emitEvent:function(){var e=this.seconds+this.minutes*_e+this.hours*ye+this.days*xe+this.weeks*Re;this.$emit("newTimedelta",e)},setupValues:function(e){this.weeks=Math.floor(e/Re),e+=-this.weeks*Re,this.days=Math.floor(e/xe),e+=-this.days*xe,this.hours=Math.floor(e/ye),e+=-this.hours*ye,this.minutes=Math.floor(e/_e),e+=-this.minutes*_e,this.seconds=e}},watch:{timedelta:function(e){this.setupValues(e)}},mounted:function(){this.setupValues(this.timedelta)}},ke=Ne,Se=(n("33d1"),Object(h["a"])(ke,ge,be,!1,null,"fecb7784",null)),Oe=Se.exports,$e=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("select",{attrs:{name:e.fieldName+"__operator"}},e._l(e.operators,(function(t){return n("option",{key:t.label,domProps:{selected:"e"==t.value,value:t.value}},[e._v(" "+e._s(t.label)+" ")])})),0)},je=[],De={props:{fieldName:String},data:function(){return{operators:[{label:"Equals",value:"e"},{label:"Less Than",value:"lt"},{label:"Less Than or Equal To",value:"lte"},{label:"Greater Than or Equal To",value:"gte"},{label:"Greater Than",value:"gt"}]}}},Ce=De,Fe=Object(h["a"])(Ce,$e,je,!1,null,null,null),Ae=Fe.exports,Me=r["a"].extend({props:{title:{type:String,default:""},type:{type:String,default:"string"},value:{type:void 0,default:void 0},format:String,isFilter:{type:Boolean,default:!0},isNullable:{type:Boolean,default:!1},choices:{type:Object,default:null}},components:{flatPickr:oe.a,ArrayWidget:pe,ChoiceSelect:we,DurationWidget:Oe,OperatorField:Ae},data:function(){return{localValue:void 0,textareaHeight:"50px"}},computed:{placeholder:function(){return this.isFilter?"All":""}},methods:{getFieldName:function(e){return e.toLowerCase().split(" ").join("_")},setTextareaHeight:function(){var e=this.$refs.textarea;e&&e.scrollHeight>e.clientHeight&&(this.textareaHeight=e.scrollHeight+"px")},updateLocalValue:function(e){this.localValue=e}},watch:{value:function(){this.localValue=this.value,this.setTextareaHeight()}},mounted:function(){this.localValue=this.value;var e=this;setTimeout((function(){e.setTextareaHeight()}),0)}}),Pe=Me,Te=(n("f6e7"),Object(h["a"])(Pe,ne,re,!1,null,"43c04554",null)),Ve=Te.exports,Ee=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{staticClass:"tooltip"},[n("a",{attrs:{href:"#",title:"Click for more info"},on:{click:function(t){t.preventDefault(),e.popupVisible?e.hidePopup(t):e.showPopup(t)},blur:function(t){return e.hidePopup()}}},[n("font-awesome-icon",{attrs:{icon:"question-circle"}})],1),n("div",{directives:[{name:"show",rawName:"v-show",value:e.popupVisible,expression:"popupVisible"}],staticClass:"popup",style:{top:e.popupTop,bottom:e.popupBottom,right:e.popupRight,left:e.popupLeft,width:e.popupWidth,textAlign:e.textAlign}},[n("span",[e._v(e._s(e.content))])])])},Be=[],Ie={props:{content:{default:"",type:String}},data:function(){return{popupVisible:!1,popupTop:"auto",popupBottom:"auto",popupLeft:"auto",popupRight:"auto",popupWidth:void 0,textAlign:void 0}},methods:{showPopup:function(e){var t=document.body.scrollHeight,n=document.body.scrollWidth,r=e.pageY,a=e.pageX;a<150?(console.log("Right"),this.popupLeft=a+20+"px",this.popupRight="auto",this.popupWidth=n-a-20+"px",this.textAlign="left"):n-a<150?(console.log("Left"),this.popupLeft="auto",this.popupRight=a-20+"px",this.popupWidth=a-20+"px",this.textAlign="right"):(console.log("Center"),this.popupWidth="300px",this.popupLeft=a-150+"px",this.popupRight="auto",this.textAlign="center"),t-r<300?(console.log("Above"),this.popupBottom=t-r+20+"px",this.popupTop="auto"):(console.log("Below"),this.popupBottom="auto",this.popupTop=r+20+"px"),this.popupVisible=!0},hidePopup:function(){this.popupVisible=!1}},mounted:function(){var e=this;function t(){e.popupVisible=!1}this.onResize=t,window.addEventListener("resize",t)},destroyed:function(){this.onResize&&window.removeEventListener("resize",this.onResize)}},Le=Ie,ze=(n("29ab"),Object(h["a"])(Le,Ee,Be,!1,null,null,null)),He=ze.exports,qe=r["a"].extend({props:{row:Object,schema:Object,isFilter:{type:Boolean,default:!1}},components:{InputField:Ve,KeySearch:te,Tooltip:He},data:function(){return{keySelectIDs:{},baseIndex:1,windowListener:void 0}},methods:{getValue:function(e){var t=this.row?this.row[e.toLowerCase().split(" ").join("_")]:void 0;return t},getKeySelectID:function(e){return this.keySelectIDs[e]||this.getValue(e)},keySelectChanged:function(e,t){console.log("".concat(e," = ").concat(t)),r["a"].set(this.keySelectIDs,e,t)},getKey:function(e){return e+this.baseIndex},isRequired:function(e){return!this.isFilter&&-1!=(this.schema.required||[]).indexOf(e)}},mounted:function(){window.addEventListener("message",t,!1);var e=this;function t(t){t.origin===document.location.origin&&(console.log("Received message"),e.baseIndex=e.baseIndex+1)}this.windowListener=t},destroyed:function(){this.windowListener&&window.removeEventListener("message",this.windowListener)}}),Je=qe,Ue=(n("c9bc"),Object(h["a"])(Je,E,B,!1,null,"3fef2cab",null)),Ke=Ue.exports,We={props:{tableName:String,schema:Object},components:{RowFormSelect:Ke},data:function(){return{defaults:{},errors:""}},methods:{submitForm:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){var r,a,o,s,i,c,u,l,p,m,d;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:console.log("I was pressed"),r=new FormData(e.target),a={},o=Object(V["a"])(r.entries());try{for(o.s();!(s=o.n()).done;)u=s.value,l=u[0].split(" ").join("_"),p=u[1],"null"==p?p=null:"array"==t.schema.properties[l].type?p=JSON.parse(p):("date-time"==(null===(i=t.schema)||void 0===i?void 0:i.properties[l].format)&&""==p||1==(null===(c=t.schema)||void 0===c?void 0:c.properties[l].extra.foreign_key)&&""==p)&&(p=null),a[l]=p}catch(f){o.e(f)}finally{o.f()}return n.prev=5,n.next=8,t.$store.dispatch("createRow",{tableName:t.tableName,data:a});case 8:n.next=17;break;case 10:return n.prev=10,n.t0=n["catch"](5),m=n.t0.response.data,d={contents:"The form has errors.",type:"error"},t.$store.commit("updateApiResponseMessage",d),t.errors="string"!=typeof m?JSON.stringify(m,null,2):m,n.abrupt("return");case 17:t.errors="",d={contents:"Successfully added row",type:"success"},t.$store.commit("updateApiResponseMessage",d),t.$emit("addedRow"),t.$emit("close"),opener&&opener.postMessage("edited row",document.location.origin);case 23:case"end":return n.stop()}}),n,null,[[5,10]])})))()}},mounted:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("getNew",e.tableName);case 2:n=t.sent,e.defaults=n.data;case 4:case"end":return t.stop()}}),t)})))()}},Ge=We,Ye=(n("cff4"),Object(h["a"])(Ge,P,T,!1,null,"219b6019",null)),Xe=Ye.exports,Qe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("NavBar",{attrs:{username:e.username,siteName:e.siteName}}),n("div",{staticClass:"inner"},[n("BackButton"),e._t("default")],2)],1)},Ze=[],et=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[e.showBackButton?n("a",{attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.$router.go(-1)}}},[n("font-awesome-icon",{attrs:{icon:"angle-left"}}),e._v("Back ")],1):e._e()])},tt=[],nt={computed:{showBackButton:function(){return window.history.length>1}}},rt=nt,at=(n("9d86"),Object(h["a"])(rt,et,tt,!1,null,"781a58b2",null)),ot=at.exports,st=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{attrs:{id:"nav"}},[n("span",{attrs:{id:"burger_menu"}},[n("a",{attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.showSidebar=!e.showSidebar}}},[e.showSidebar?n("font-awesome-icon",{attrs:{icon:"times"}}):n("font-awesome-icon",{attrs:{icon:"bars"}})],1)]),n("h1",[n("router-link",{attrs:{to:"/"}},[n("font-awesome-icon",{attrs:{icon:"tools"}}),e._v(" "+e._s(e.siteName)+" ")],1)],1),n("ul",[n("li",[n("a",{attrs:{href:"#",id:"user",title:e.username},on:{click:function(t){t.preventDefault(),e.showDropdown=!e.showDropdown}}},[n("font-awesome-icon",{attrs:{icon:"user"}}),e._v(" "+e._s(e.truncatedUsername)+" "),e.showDropdown?n("font-awesome-icon",{attrs:{icon:"angle-up"}}):e._e(),e.showDropdown?e._e():n("font-awesome-icon",{attrs:{icon:"angle-down"}}),e.showDropdown?n("NavDropDownMenu"):e._e()],1)])])]),e.showSidebar?n("SidebarOverlay"):e._e()],1)},it=[],ct=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("DropDownMenu",[n("li",[n("a",{attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.logout.apply(null,arguments)}}},[n("font-awesome-icon",{attrs:{icon:"sign-out-alt"}}),e._v("Log out ")],1)]),e.darkMode?n("li",[n("a",{attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.updateDarkMode(!1)}}},[n("font-awesome-icon",{attrs:{icon:"sun"}}),e._v("Light Mode ")],1)]):n("li",[n("a",{attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.updateDarkMode(!0)}}},[n("font-awesome-icon",{attrs:{icon:"moon"}}),e._v("Dark Mode ")],1)]),n("li",[n("a",{attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.showAboutModal.apply(null,arguments)}}},[n("font-awesome-icon",{attrs:{icon:"info-circle"}}),e._v("About ")],1)])])},ut=[],lt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ul",{attrs:{id:"drop_down_menu"}},[e._t("default")],2)},pt=[],mt=r["a"].extend({}),dt=mt,ft=(n("dc86"),Object(h["a"])(dt,lt,pt,!1,null,"2bd4ab6c",null)),ht=ft.exports,vt=r["a"].extend({components:{DropDownMenu:ht},computed:{darkMode:function(){return this.$store.state.darkMode}},methods:{updateDarkMode:function(e){this.$store.commit("updateDarkMode",e)},showAboutModal:function(){this.$store.commit("updateShowAboutModal",!0)},logout:function(){return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!window.confirm("Are you sure you want to logout?")){e.next=12;break}return console.log("Logging out"),e.prev=2,e.next=5,c.a.post("./auth/logout/");case 5:location.replace(window.location.pathname),e.next=12;break;case 8:e.prev=8,e.t0=e["catch"](2),console.log("Logout failed"),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,8]])})))()}}}),wt=vt,gt=Object(h["a"])(wt,ct,ut,!1,null,"0ca5736b",null),bt=gt.exports,_t=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"opaque",attrs:{id:"sidebar_overlay"}},[n("SidebarNav")],1)},yt=[],xt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"sidebar"},[n("p",{staticClass:"opaque"},[n("router-link",{staticClass:"subtle",attrs:{to:"/"}},[n("font-awesome-icon",{attrs:{icon:"home"}}),e._v("Home ")],1)],1),n("p",{staticClass:"opaque",on:{click:function(t){e.isHiddenTables=!e.isHiddenTables}}},[n("font-awesome-icon",{attrs:{icon:"table"}}),e._v("Tables "),n("span",{staticStyle:{float:"right"}},[e.isHiddenTables?n("font-awesome-icon",{attrs:{icon:"angle-down",title:"Show tables"}}):n("font-awesome-icon",{attrs:{icon:"angle-up",title:"Hide tables"}})],1)],1),n("TableNav",{directives:[{name:"show",rawName:"v-show",value:!e.isHiddenTables,expression:"!isHiddenTables"}]}),e.formConfigs.length>0?n("p",{staticClass:"opaque",on:{click:function(t){e.isHiddenForms=!e.isHiddenForms}}},[n("font-awesome-icon",{attrs:{icon:"cogs"}}),e._v("Forms "),n("span",{staticStyle:{float:"right"}},[e.isHiddenForms?n("font-awesome-icon",{attrs:{icon:"angle-down",title:"Show forms"}}):n("font-awesome-icon",{attrs:{icon:"angle-up",title:"Hide forms"}})],1)],1):e._e(),n("FormNav",{directives:[{name:"show",rawName:"v-show",value:!e.isHiddenForms,expression:"!isHiddenForms"}]})],1)},Rt=[],Nt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ul",{staticClass:"table_list"},e._l(e.tableNames,(function(t){return n("li",{key:t},[n("router-link",{staticClass:"subtle",class:{active:e.isActive(t)},attrs:{to:{name:"rowListing",params:{tableName:t}}}},[n("font-awesome-icon",{attrs:{icon:"level-up-alt"}}),n("span",[e._v(e._s(e._f("readable")(t)))])],1)],1)})),0)},kt=[],St=r["a"].extend({computed:{tableNames:function(){return this.$store.state.tableNames},currentTableName:function(){return this.$store.state.currentTableName}},methods:{showListing:function(e){this.$store.commit("updateCurrentTablename",e),this.$router.push({name:"rowListing",params:{tableName:e}})},isActive:function(e){return this.currentTableName===e}},filters:{readable:function(e){return e.split("_").join(" ")}},mounted:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("fetchTableNames");case 2:case"end":return t.stop()}}),t)})))()}}),Ot=St,$t=Object(h["a"])(Ot,Nt,kt,!1,null,null,null),jt=$t.exports,Dt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ul",e._l(e.formConfigs,(function(t){return n("li",{key:t.name},[n("router-link",{staticClass:"subtle",attrs:{to:{name:"addForm",params:{formSlug:t.slug}}}},[n("font-awesome-icon",{attrs:{icon:"level-up-alt"}}),n("span",[e._v(e._s(e._f("readable")(t.name)))])],1)],1)})),0)},Ct=[],Ft=r["a"].extend({computed:{formConfigs:function(){return this.$store.state.formConfigs}},mounted:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("fetchFormConfigs");case 2:case"end":return t.stop()}}),t)})))()}}),At=Ft,Mt=Object(h["a"])(At,Dt,Ct,!1,null,null,null),Pt=Mt.exports,Tt=r["a"].extend({data:function(){return{isHiddenTables:!1,isHiddenForms:!1}},components:{TableNav:jt,FormNav:Pt},computed:{formConfigs:function(){return this.$store.state.formConfigs}}}),Vt=Tt,Et=(n("7dd9"),Object(h["a"])(Vt,xt,Rt,!1,null,null,null)),Bt=Et.exports,It={components:{SidebarNav:Bt}},Lt=It,zt=(n("afbe"),Object(h["a"])(Lt,_t,yt,!1,null,null,null)),Ht=zt.exports,qt=r["a"].extend({props:{username:{type:String,default:"Unknown"},siteName:{type:String,default:"Piccolo Admin"}},data:function(){return{showSidebar:!1,showDropdown:!1}},computed:{truncatedUsername:function(){var e=this.username;return e.length>20?e.slice(0,16)+"...":e}},components:{SidebarOverlay:Ht,NavDropDownMenu:bt}}),Jt=qt,Ut=(n("7191"),Object(h["a"])(Jt,st,it,!1,null,null,null)),Kt=Ut.exports,Wt=r["a"].extend({components:{BackButton:ot,NavBar:Kt},computed:{username:function(){var e=this.$store.state.user;return e?e.username:"Unknown"},siteName:function(){return this.$store.state.metaModule.siteName}}}),Gt=Wt,Yt=(n("ea59"),Object(h["a"])(Gt,Qe,Ze,!1,null,"883edc22",null)),Xt=Yt.exports,Qt=r["a"].extend({props:["tableName"],components:{AddRowForm:Xe,DetailViewBase:Xt},computed:{schema:function(){return this.$store.state.schema}},mounted:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$store.commit("updateCurrentTablename",e.tableName),t.next=3,e.$store.dispatch("fetchSchema",e.tableName);case 3:case"end":return t.stop()}}),t)})))()}}),Zt=Qt,en=Object(h["a"])(Zt,A,M,!1,null,"f3682b66",null),tn=en.exports,nn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("DetailViewBase",[n("EditRowForm",{attrs:{rowID:e.rowID,tableName:e.tableName}})],1)},rn=[],an=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.schema?n("div",[n("div",{staticClass:"header"},[n("h1",[e._v("Edit "+e._s(e._f("readable")(e.tableName)))]),n("p",[n("a",{staticClass:"subtle",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.showDropdown=!e.showDropdown}}},[n("font-awesome-icon",{attrs:{icon:"ellipsis-v"}}),e.showDropdown?n("DropDownMenu",[n("li",[n("DeleteButton",{staticClass:"subtle",attrs:{includeTitle:!0},on:{triggered:e.deleteRow}})],1)]):e._e()],1)])]),n("pre",[e._v(e._s(e.errors))]),n("form",{on:{submit:function(t){return t.preventDefault(),e.submitForm(t)}}},[n("RowFormSelect",{attrs:{row:e.selectedRow,schema:e.schema}}),n("button",[e._v("Save")])],1),n("ReferencingTables",{attrs:{rowID:e.rowID,tableName:e.tableName}})],1):e._e()},on=[],sn=(n("3ca3"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.references.length>0?n("div",[n("p",{staticClass:"referencing_title"},[n("a",{attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.showReferencing=!e.showReferencing}}},[e.showReferencing?n("span",[n("font-awesome-icon",{attrs:{icon:"angle-down"}}),e._v("Hide ")],1):n("span",[n("font-awesome-icon",{attrs:{icon:"angle-right"}}),e._v("Show ")],1),e._v(" Referencing Tables ")])]),e.showReferencing?n("ul",{staticClass:"related_tables"},e._l(e.references,(function(t){return n("li",{key:t.tableName+t.columnName},[n("a",{attrs:{href:"#"},on:{click:function(n){return n.preventDefault(),e.clickedReference(t)}}},[n("font-awesome-icon",{attrs:{icon:"external-link-alt"}}),n("span",{staticClass:"table bold"},[e._v(e._s(t.tableName))]),e._v(" with a matching "),n("span",{staticClass:"bold"},[e._v(e._s(t.columnName))])],1)])})),0):e._e()]):e._e()}),cn=[],un=r["a"].extend({props:["tableName","rowID"],data:function(){return{references:[],showReferencing:!1}},methods:{fetchTableReferences:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("fetchTableReferences",e.tableName);case 2:n=t.sent,e.references=n.data.references;case 4:case"end":return t.stop()}}),t)})))()},clickedReference:function(e){var t=e.columnName,n={};n[t]=this.rowID;var r={name:"rowListing",params:{tableName:e.tableName},query:n},a=this.$router.resolve(r).href;window.open("".concat(document.location.origin).concat(document.location.pathname).concat(a),"_blank")}},mounted:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.fetchTableReferences();case 2:case"end":return t.stop()}}),t)})))()}}),ln=un,pn=(n("0194"),Object(h["a"])(ln,sn,cn,!1,null,"40dccec0",null)),mn=pn.exports,dn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a",{attrs:{href:"#",id:"delete",title:"Delete Row"},on:{click:function(t){return t.preventDefault(),e.$emit("triggered")}}},[n("font-awesome-icon",{attrs:{icon:"trash-alt"}}),e.includeTitle?n("span",[e._v("Delete")]):e._e()],1)},fn=[],hn={props:{includeTitle:{type:Boolean,default:!1}}},vn=hn,wn=(n("edc9"),Object(h["a"])(vn,dn,fn,!1,null,"b4846bde",null)),gn=wn.exports,bn=r["a"].extend({props:["tableName","rowID"],components:{DeleteButton:gn,DropDownMenu:ht,RowFormSelect:Ke,ReferencingTables:mn},data:function(){return{errors:"",showDropdown:!1}},computed:{schema:function(){return this.$store.state.schema},selectedRow:function(){return this.$store.state.selectedRow}},methods:{submitForm:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){var r,a,o,s,i,c,u,l,p,m,d,f;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:console.log("Submitting..."),r=new FormData(e.target),a={},o=Object(V["a"])(r.entries());try{for(o.s();!(s=o.n()).done;)u=s.value,l=u[0].split(" ").join("_"),p=u[1],"null"==p?p=null:"array"==t.schema.properties[l].type?p=JSON.parse(p):("date-time"==(null===(i=t.schema)||void 0===i?void 0:i.properties[l].format)&&""==p||1==(null===(c=t.schema)||void 0===c?void 0:c.properties[l].extra.foreign_key)&&""==p)&&(p=null),a[l]=p}catch(h){o.e(h)}finally{o.f()}return m={tableName:t.tableName,rowID:t.rowID,data:a},n.prev=6,n.next=9,t.$store.dispatch("updateRow",m);case 9:n.next=18;break;case 11:return n.prev=11,n.t0=n["catch"](6),d=n.t0.response.data,f={contents:"The form has errors.",type:"error"},t.$store.commit("updateApiResponseMessage",f),t.errors="string"!=typeof d?JSON.stringify(d,null,2):d,n.abrupt("return");case 18:t.errors="",opener&&opener.postMessage("edited row",document.location.origin);case 20:case"end":return n.stop()}}),n,null,[[6,11]])})))()},deleteRow:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!window.confirm("Are you sure you want to delete this row?")){t.next=6;break}return n={tableName:e.tableName,rowID:e.rowID},t.next=4,e.$store.dispatch("deleteRow",n);case 4:alert("Successfully deleted row"),e.$router.push({name:"rowListing",params:{tableName:e.tableName}});case 6:case"end":return t.stop()}}),t)})))()},fetchData:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$store.commit("updateCurrentTablename",e.tableName),t.next=3,e.$store.dispatch("fetchSingleRow",{tableName:e.tableName,rowID:e.rowID});case 3:case"end":return t.stop()}}),t)})))()}},watch:{"$route.params.tableName":function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this.fetchData(),this.$store.dispatch("fetchSchema",this.tableName)]);case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),"$route.params.rowID":function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.fetchData();case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},mounted:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([e.fetchData(),e.$store.dispatch("fetchSchema",e.tableName)]);case 2:case"end":return t.stop()}}),t)})))()}}),_n=bn,yn=(n("1880"),Object(h["a"])(_n,an,on,!1,null,"205dbac3",null)),xn=yn.exports,Rn=r["a"].extend({props:["tableName","rowID"],components:{EditRowForm:xn,DetailViewBase:Xt}}),Nn=Rn,kn=Object(h["a"])(Nn,nn,rn,!1,null,"43d5c64e",null),Sn=kn.exports,On=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("BaseView",[n("div",{staticClass:"welcome"},[n("h1",[e._v("Welcome to "+e._s(e.siteName))]),n("p",[e._v("Select one of the tables in the sidebar to get started.")])])])},$n=[],jn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"base_view"},[n("NavBar",{attrs:{username:e.username,siteName:e.siteName}}),n("div",{staticClass:"wrapper"},[n("div",{staticClass:"sidebar_wrapper"},[n("SidebarNav")],1),e._t("default")],2)],1)},Dn=[],Cn=r["a"].extend({components:{NavBar:Kt,SidebarNav:Bt},computed:{username:function(){var e=this.$store.state.user;return e?e.username:"Unknown"},siteName:function(){return this.$store.state.metaModule.siteName}}}),Fn=Cn,An=(n("e869"),Object(h["a"])(Fn,jn,Dn,!1,null,null,null)),Mn=An.exports,Pn={components:{BaseView:Mn},computed:{siteName:function(){return this.$store.state.metaModule.siteName}},mounted:function(){this.$store.commit("updateCurrentTablename","")}},Tn=Pn,Vn=(n("3180"),Object(h["a"])(Tn,On,$n,!1,null,"25d11040",null)),En=Vn.exports,Bn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"login"}},[n("div",{staticClass:"inner"},[n("h1",[e._v(e._s(e.siteName))]),n("form",{on:{submit:function(t){return t.preventDefault(),e.login.apply(null,arguments)}}},[n("label",[e._v("Username")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],attrs:{name:"username",type:"text"},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}}),n("label",[e._v("Password")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{name:"password",type:"password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),n("button",[e._v("Login")])])])])},In=[],Ln={data:function(){return{username:"",password:""}},computed:{siteName:function(){return this.$store.state.metaModule.siteName}},methods:{login:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("Logging in"),t.prev=1,t.next=4,c.a.post("./auth/login/",{username:e.username,password:e.password});case 4:t.next=12;break;case 6:return t.prev=6,t.t0=t["catch"](1),console.log("Request failed"),console.log(t.t0.response),e.$store.commit("updateApiResponseMessage",{contents:"Problem logging in",type:"error"}),t.abrupt("return");case 12:return t.next=14,Promise.all([e.$store.dispatch("fetchUser"),e.$store.dispatch("fetchMeta")]);case 14:n=e.$route.query.nextURL,n?e.$router.push({path:n}):e.$router.push({name:"home"});case 16:case"end":return t.stop()}}),t,null,[[1,6]])})))()}}},zn=Ln,Hn=(n("4fde"),Object(h["a"])(zn,Bn,In,!1,null,null,null)),qn=Hn.exports,Jn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("BaseView",[void 0!=e.schema?[n("div",{staticClass:"left_column"},[n("div",{staticClass:"title_bar"},[n("div",{staticClass:"title"},[n("h1",[e._v(e._s(e._f("readable")(e.tableName)))]),e.schema.help_text?n("Tooltip",{attrs:{content:e.schema.help_text}}):e._e()],1),n("div",{staticClass:"buttons"},[e.selectedRows.length>0?n("BulkDeleteButton",{attrs:{selected:e.selectedRows.length},on:{triggered:e.deleteRows}}):e._e(),n("router-link",{staticClass:"button",attrs:{to:{name:"addRow",params:{tableName:e.tableName}}},on:{click:function(t){t.preventDefault(),e.showAddRow=!0}}},[n("font-awesome-icon",{attrs:{icon:"plus"}}),n("span",[e._v("Add Row")])],1),n("a",{staticClass:"button",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.showSort=!e.showSort}}},[n("font-awesome-icon",{attrs:{icon:"sort"}}),n("span",[e._v("Sort")])],1),n("a",{staticClass:"button",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.showFilter=!e.showFilter}}},[n("font-awesome-icon",{attrs:{icon:"filter"}}),n("span",[e._v(" "+e._s(e.showFilter?"Hide":"Show")+" Filters ")])],1),n("CSVButton",{attrs:{tableName:e.tableName}})],1)]),e.selectedRows.length>0?n("p",{attrs:{id:"selected_count"}},[n("b",[e._v(e._s(e.selectedRows.length))]),e._v(" selected result(s) on "),n("b",[e._v("page "+e._s(e.currentPageNumber))])]):e._e(),n("div",{staticClass:"table_wrapper"},[n("transition",{attrs:{name:"fade"}},[n("p",{directives:[{name:"show",rawName:"v-show",value:e.loadingStatus,expression:"loadingStatus"}],attrs:{id:"loading_indicator"}},[e._v("Loading ...")])]),n("transition",{attrs:{name:"fade"}},[e.loadingStatus||void 0==e.rows?e._e():n("div",[0==e.rows.length?n("p",[e._v("No results found")]):[n("table",[n("tr",[n("th",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.allSelected,expression:"allSelected"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.allSelected)?e._i(e.allSelected,null)>-1:e.allSelected},on:{change:[function(t){var n=e.allSelected,r=t.target,a=!!r.checked;if(Array.isArray(n)){var o=null,s=e._i(n,o);r.checked?s<0&&(e.allSelected=n.concat([o])):s>-1&&(e.allSelected=n.slice(0,s).concat(n.slice(s+1)))}else e.allSelected=a},e.selectAllRows]}})]),e._l(e.cellNames,(function(t){return n("th",{key:t},[e._v(" "+e._s(e.schema.properties[t]?e.schema.properties[t].title:t)+" ")])})),n("th")],2),e._l(e.rows,(function(t){return n("tr",{key:t[e.pkName]},[n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedRows,expression:"selectedRows"}],attrs:{type:"checkbox"},domProps:{value:t[e.pkName],checked:Array.isArray(e.selectedRows)?e._i(e.selectedRows,t[e.pkName])>-1:e.selectedRows},on:{click:e.selectRow,change:function(n){var r=e.selectedRows,a=n.target,o=!!a.checked;if(Array.isArray(r)){var s=t[e.pkName],i=e._i(r,s);a.checked?i<0&&(e.selectedRows=r.concat([s])):i>-1&&(e.selectedRows=r.slice(0,i).concat(r.slice(i+1)))}else e.selectedRows=o}}})]),e._l(e.cellNames,(function(r){return n("td",{key:r},[r==e.pkName?n("span",{staticClass:"link"},[n("router-link",{attrs:{to:{name:"editRow",params:{tableName:e.tableName,rowID:t[r]}}}},[e._v(e._s(t[r]))])],1):e.choicesLookup[r]?n("span",[e._v(" "+e._s(e.choicesLookup[r][t[r]])+" ")]):e.isForeignKey(r)&null!==t[r]?n("span",{staticClass:"link"},[n("router-link",{attrs:{to:{name:"editRow",params:{tableName:e.getTableName(r),rowID:t[r]}}}},[e._v(e._s(t[r+"_readable"]))])],1):e.isBoolean(r)?n("span",{staticClass:"boolean"},[!0===t[r]?n("font-awesome-icon",{staticClass:"correct",attrs:{icon:"check"}}):n("font-awesome-icon",{staticClass:"incorrect",attrs:{icon:"times"}})],1):e.isInterval(r)?n("span",[e._v(" "+e._s(e._f("humanReadable")(t[r]))+" ")]):e.isJSON(r)?n("span",[n("pre",[e._v(e._s(e._f("abbreviate")(e._f("formatJSON")(t[r]))))])]):n("span",[e._v(e._s(e._f("abbreviate")(t[r])))])])})),n("td",[n("span",{staticStyle:{position:"relative",display:"block","text-align":"right"}},[n("a",{staticClass:"subtle",attrs:{href:"#"},on:{click:function(n){n.preventDefault(),e.visibleDropdown=e.visibleDropdown?void 0:t[e.pkName]}}},[n("font-awesome-icon",{attrs:{icon:"ellipsis-v"}})],1),e.visibleDropdown==t[e.pkName]?n("DropDownMenu",[n("li",[n("router-link",{staticClass:"subtle",attrs:{to:{name:"editRow",params:{tableName:e.tableName,rowID:t[e.pkName]}},title:"Edit Row"}},[n("font-awesome-icon",{attrs:{icon:"edit"}}),e._v("Edit ")],1)],1),n("li",[n("DeleteButton",{staticClass:"subtle delete",attrs:{includeTitle:!0},on:{triggered:function(n){return e.deleteRow(t[e.pkName])}}})],1)]):e._e()],1)])],2)}))],2),n("p",{attrs:{id:"result_count"}},[e._v(" Showing "+e._s(e.rows.length)+" of "+e._s(e.rowCount)+" result(s) ")]),n("div",{staticClass:"pagination_wrapper"},[n("Pagination",{attrs:{tableName:e.tableName}}),n("ChangePageSize")],1)]],2)])],1)]),e.showFilter?n("div",{staticClass:"right_column"},[n("RowFilter",{attrs:{showFilterSidebar:e.showFilter},on:{closeSideBar:e.closeSideBar}})],1):e._e(),e.showAddRow?n("AddRowModal",{attrs:{schema:e.schema,tableName:e.tableName},on:{addedRow:e.fetchRows,close:function(t){e.showAddRow=!1}}}):e._e(),e.showSort?n("RowSortModal",{attrs:{schema:e.schema,tableName:e.tableName},on:{close:function(t){e.showSort=!1}}}):e._e()]:e._e()],2)},Un=[],Kn=n("3835"),Wn=(n("8a79"),n("caad"),n("2532"),n("07ac"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Modal",{on:{close:function(t){return e.$emit("close")}}},[n("AddRowForm",{attrs:{schema:e.schema,tableName:e.tableName},on:{addedRow:function(t){return e.$emit("addedRow")},close:function(t){return e.$emit("close")}}})],1)}),Gn=[],Yn={props:{tableName:String,schema:Object},components:{Modal:w,AddRowForm:Xe}},Xn=Yn,Qn=Object(h["a"])(Xn,Wn,Gn,!1,null,"b598f334",null),Zn=Qn.exports,er=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a",{staticClass:"button",attrs:{href:"#",title:"Delete selected Rows"},on:{click:function(t){return t.preventDefault(),e.$emit("triggered")}}},[n("font-awesome-icon",{attrs:{icon:"trash-alt"}}),n("span",[e._v("Delete "+e._s(e.selected)+" selected")])],1)},tr=[],nr={props:{selected:{type:Number,default:0}}},rr=nr,ar=Object(h["a"])(rr,er,tr,!1,null,null,null),or=ar.exports,sr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a",{staticClass:"button"},[n("downloadexcel",{attrs:{"before-finish":e.finishDownload,"before-generate":e.startDownload,fetch:e.fetchExportedRows,name:e.tableName+".csv",type:"csv"}},[n("font-awesome-icon",{attrs:{icon:"file-csv"}}),n("span",[e._v("Export CSV")])],1)],1)},ir=[],cr=n("5530"),ur=n("f2d9"),lr={props:["tableName"],components:{downloadexcel:ur["a"]},methods:{fetchExportedRows:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n,r,a,o,s,i,u,l,p,m;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.$store.state.filterParams,r=e.$store.state.sortBy,r&&(a=r.ascending?"":"-",n["__order"]=a+r.property),t.next=5,c.a.get("api/tables/".concat(e.tableName,"/count/"),{params:n});case 5:o=t.sent,s=o.data,i=Object(cr["a"])({},n),i["__page"]=s.count,i["__page_size"]=1e3,u=Math.ceil(s.count/i["__page_size"]),l=[],t.prev=12,p=1;case 14:if(!(p<u+1)){t.next=23;break}return i["__page"]=p,t.next=18,c.a.get("api/tables/".concat(e.tableName,"/?__readable=true"),{params:i});case 18:m=t.sent,l.push.apply(l,Object(q["a"])(m.data.rows));case 20:p++,t.next=14;break;case 23:return t.abrupt("return",l);case 26:t.prev=26,t.t0=t["catch"](12),console.log(t.t0.response);case 29:case"end":return t.stop()}}),t,null,[[12,26]])})))()},startDownload:function(){alert("Your data will begin downloading. Large data sets may take a few seconds.")},finishDownload:function(){alert("Your data is ready.")}}},pr=lr,mr=(n("a07d"),Object(h["a"])(pr,sr,ir,!1,null,"2a4c157b",null)),dr=mr.exports,fr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"page_size"}},[n("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedPageSize,expression:"selectedPageSize"}],on:{change:[function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectedPageSize=t.target.multiple?n:n[0]},e.changePageSize]}},e._l(e.pageOptions,(function(t){return n("option",{key:t,attrs:{label:t+" per page"}},[e._v(" "+e._s(t)+" ")])})),0)])},hr=[],vr={data:function(){return{selectedPageSize:15,pageOptions:[5,15,30,50,100]}},methods:{changePageSize:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$store.commit("updatePageSize",e.selectedPageSize),e.$store.commit("updateCurrentPageNumber",1),t.next=4,e.$store.dispatch("fetchRows");case 4:case"end":return t.stop()}}),t)})))()}},computed:{pageSize:function(){return this.$store.state.pageSize}},watch:{pageSize:function(){this.selectedPageSize=this.pageSize}},mounted:function(){this.selectedPageSize=this.pageSize}},wr=vr,gr=(n("680a"),Object(h["a"])(wr,fr,hr,!1,null,"4b6abeb9",null)),br=gr.exports,_r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"pagination"}},[e.pageCount<20?n("ul",{staticClass:"pages"},e._l(e.pageCount,(function(t){return n("li",{key:t},[n("a",{staticClass:"subtle",class:{active:t===e.currentPageNumber},attrs:{href:"#"},on:{click:function(n){return n.preventDefault(),e.changePage(t)}}},[e._v(e._s(t))])])})),0):n("div",{staticClass:"page_select"},[n("label",[e._v("Go to page")]),n("select",{directives:[{name:"model",rawName:"v-model",value:e.pageDropdownValue,expression:"pageDropdownValue"}],on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.pageDropdownValue=t.target.multiple?n:n[0]}}},e._l(e.pageCount,(function(t){return n("option",{key:t},[e._v(e._s(t))])})),0)])])},yr=[],xr={props:{tableName:String},data:function(){return{pageDropdownValue:0}},computed:{rowCount:function(){return this.$store.state.rowCount||0},pageSize:function(){return this.$store.state.pageSize||1},pageCount:function(){var e=Math.ceil(this.rowCount/this.pageSize);return e<1?1:e},currentTableName:function(){return this.$store.state.currentTableName},filterParams:function(){return this.$store.state.filterParams},currentPageNumber:function(){return this.$store.state.currentPageNumber}},methods:{changePage:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t.currentPageNumber==e){n.next=5;break}return console.log("Navigating to "+e),t.$store.commit("updateCurrentPageNumber",e),n.next=5,t.$store.dispatch("fetchRows");case 5:case"end":return n.stop()}}),n)})))()}},watch:{pageDropdownValue:function(e){this.changePage(e)}},mounted:function(){this.pageDropdownValue=this.currentPageNumber}},Rr=xr,Nr=(n("c25e"),Object(h["a"])(Rr,_r,yr,!1,null,"331bca9a",null)),kr=Nr.exports,Sr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"filter_wrapper"},[n("h1",[e._v("Filter")]),n("a",{staticClass:"button",attrs:{id:"sidebar-close"},on:{click:function(t){return e.closeSideBar()}}},[n("span",[n("font-awesome-icon",{attrs:{icon:"times"}})],1),e._v("Close ")]),n("form",{ref:"form",on:{submit:function(t){return t.preventDefault(),e.submitForm(t)}}},[n("RowFormSearch",{attrs:{schema:e.schema}}),n("button",[e._v("Apply")])],1),n("button",{on:{click:function(t){return t.preventDefault(),e.clearFilters.apply(null,arguments)}}},[e._v("Clear filters")])])},Or=[],$r=(n("159b"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._l(e.schema.properties,(function(t,r){return[e.schema.visible_filter_names.includes(r)?n("div",{key:t.title},[t.extra.foreign_key?[n("label",[e._v(" "+e._s(t.title)+" ")]),n("KeySearch",{key:e.getValue(t.title),attrs:{fieldName:t.title.toLowerCase(),isFilter:!0,readable:e.getValue(t.title),rowID:e.getKeySelectID(t.title),tableName:t.extra.to,isNullable:t.nullable}})]:"json"!==t.format?[n("label",[e._v(" "+e._s(t.title)+" ")]),n("InputField",{key:t.title,attrs:{choices:t.extra.choices,format:t.format,isFilter:!0,isNullable:t.nullable,required:e.isRequired(r),title:t.title,type:t.type||t.anyOf[0].type,value:e.getValue(t.title)}})]:e._e()],2):e._e()]}))],2)}),jr=[],Dr=r["a"].extend({props:{row:Object,schema:Object},components:{InputField:Ve,KeySearch:te},methods:{getValue:function(e){var t=this.row?this.row[e.toLowerCase().split(" ").join("_")]:void 0;return t},getKeySelectID:function(e){return this.getValue(e)},isRequired:function(e){return!this.isFilter&&-1!=(this.schema.required||[]).indexOf(e)}}}),Cr=Dr,Fr=Object(h["a"])(Cr,$r,jr,!1,null,null,null),Ar=Fr.exports,Mr=r["a"].extend({props:{showFilterSidebar:Boolean},components:{RowFormSearch:Ar},computed:{schema:function(){return this.$store.state.schema}},methods:{closeSideBar:function(){this.$emit("closeSideBar",!1)},showSuccess:function(e){var t={contents:e,type:"success"};this.$store.commit("updateApiResponseMessage",t)},submitForm:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){var r,a,o,s,i,c,u,l;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:r=new FormData(e.target),a={},o=Object(V["a"])(r.entries());try{for(o.s();!(s=o.n()).done;)i=s.value,c=i[0].split(" ").join("_"),u=i[1],u&&"all"!=u&&("array"==(null===(l=t.schema.properties[c])||void 0===l?void 0:l.type)&&(u=JSON.parse(u).filter((function(e){return e})),u=Array.isArray(u)?u.filter((function(e){return e})):u),a[c]=u)}catch(p){o.e(p)}finally{o.f()}return t.$store.commit("updateFilterParams",a),t.$store.commit("updateCurrentPageNumber",1),n.prev=6,n.next=9,t.$store.dispatch("fetchRows");case 9:n.next=14;break;case 11:return n.prev=11,n.t0=n["catch"](6),n.abrupt("return");case 14:t.showSuccess("Successfully applied filter");case 15:case"end":return n.stop()}}),n,null,[[6,11]])})))()},clearFilters:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("Clearing ..."),n=e.$refs.form,Object(q["a"])(n.elements).forEach((function(e){"hidden"==e.type&&(e.value="")})),n.reset(),e.$store.commit("updateFilterParams",{}),e.$store.commit("updateCurrentPageNumber",1),t.prev=6,t.next=9,e.$store.dispatch("fetchRows");case 9:t.next=14;break;case 11:return t.prev=11,t.t0=t["catch"](6),t.abrupt("return");case 14:e.showSuccess("Successfully cleared filters");case 15:case"end":return t.stop()}}),t,null,[[6,11]])})))()}}}),Pr=Mr,Tr=(n("2eae"),Object(h["a"])(Pr,Sr,Or,!1,null,"f61b1328",null)),Vr=Tr.exports,Er=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Modal",{on:{close:function(t){return e.$emit("close")}}},[e.schema?[n("p",[e._v("Sort by:")]),n("select",{directives:[{name:"model",rawName:"v-model",value:e.propertyName,expression:"propertyName"}],attrs:{name:"property"},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.propertyName=t.target.multiple?n:n[0]}}},[n("option",{domProps:{value:e.schema.primary_key_name}},[e._v(e._s(e.schema.primary_key_name))]),e._l(e.schema.properties,(function(t,r){return n("option",{key:r,domProps:{value:r}},[e._v(e._s(r))])}))],2),n("select",{directives:[{name:"model",rawName:"v-model",value:e.ascending,expression:"ascending"}],attrs:{name:"ordering"},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.ascending=t.target.multiple?n:n[0]}}},[n("option",{attrs:{value:"ascending"}},[e._v("Ascending")]),n("option",{attrs:{value:"descending"}},[e._v("Descending")])]),n("button",{on:{click:function(t){return t.preventDefault(),e.save.apply(null,arguments)}}},[e._v("Sort")])]:e._e()],2)},Br=[],Ir={props:{schema:Object,tableName:String},data:function(){return{ascending:"descending",propertyName:this.schema.primary_key_name}},components:{Modal:w},methods:{save:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={property:e.propertyName,ascending:"ascending"==e.ascending},e.$store.commit("updateSortBy",n),t.next=4,e.$store.dispatch("fetchRows");case 4:e.$emit("close");case 5:case"end":return t.stop()}}),t)})))()}},mounted:function(){var e=this.$store.state.sortBy;e&&(this.ascending=e.ascending?"ascending":"descending",this.propertyName=e.property)}},Lr=Ir,zr=Object(h["a"])(Lr,Er,Br,!1,null,null,null),Hr=zr.exports,qr=r["a"].extend({props:["tableName"],data:function(){return{selectedRows:[],allSelected:!1,showAddRow:!1,showFilter:!1,showSort:!1,visibleDropdown:null}},components:{AddRowModal:Zn,BaseView:Mn,BulkDeleteButton:or,CSVButton:dr,DeleteButton:gn,DropDownMenu:ht,Pagination:kr,ChangePageSize:br,RowFilter:Vr,RowSortModal:Hr,Tooltip:He},computed:{cellNames:function(){var e=this,t=[];for(var n in this.rows[0])n.endsWith("_readable")||t.push(n);var r=t.filter((function(t){return e.schema.visible_column_names.includes(t)}));return r},rows:function(){return this.$store.state.rows},schema:function(){return this.$store.state.schema},rowCount:function(){return this.$store.state.rowCount},currentPageNumber:function(){return this.$store.state.currentPageNumber},loadingStatus:function(){return this.$store.state.loadingStatus},pkName:function(){var e;return(null===(e=this.schema)||void 0===e?void 0:e.primary_key_name)||"id"},choicesLookup:function(){for(var e=this.schema,t={},n=0,r=Object.entries(e.properties);n<r.length;n++){var a=Object(Kn["a"])(r[n],2),o=a[0],s=a[1],i=s.extra.choices,c=function(e,t){return e[t.value]=t.display_name,e};t[o]=i?Object.values(i).reduce(c,{}):null}return t}},filters:{abbreviate:function(e){if(null===e)return null;var t=String(e);return t.length>100?t.substring(0,80)+"...":t},humanReadable:function(e){return J(e)},formatJSON:function(e){return JSON.stringify(JSON.parse(e),null,2)}},methods:{isForeignKey:function(e){var t=this.schema.properties[e];return void 0!=t&&t.extra.foreign_key},isBoolean:function(e){return"boolean"==this.schema.properties[e]["type"]},isInterval:function(e){return"time-delta"==this.schema.properties[e]["format"]},isJSON:function(e){return"json"==this.schema.properties[e]["format"]},getTableName:function(e){return this.schema.properties[e].extra.to},closeSideBar:function(e){this.showFilter=e},resetRowCheckbox:function(){this.allSelected=!1,this.selectedRows=[]},selectRow:function(){this.allSelected=!1},selectAllRows:function(){var e=this;this.allSelected?this.selectedRows=this.rows.map((function(t){return t[e.pkName]})):this.selectedRows=[]},deleteRow:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!confirm("Are you sure you want to delete row ".concat(e,"?"))){n.next=6;break}return console.log("Deleting!"),n.next=4,t.$store.dispatch("deleteRow",{tableName:t.tableName,rowID:e});case 4:return n.next=6,t.fetchRows();case 6:case"end":return n.stop()}}),n)})))()},deleteRows:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!confirm("Are you sure you want to delete the selected rows?")){t.next=11;break}console.log("Deleting rows!"),n=0;case 3:if(!(n<e.selectedRows.length)){t.next=9;break}return t.next=6,e.$store.dispatch("deleteRow",{tableName:e.tableName,rowID:e.selectedRows[n]});case 6:n++,t.next=3;break;case 9:return t.next=11,e.fetchRows();case 11:case"end":return t.stop()}}),t)})))()},fetchRows:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("fetchRows");case 2:case"end":return t.stop()}}),t)})))()},fetchSchema:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("fetchSchema",e.tableName);case 2:case"end":return t.stop()}}),t)})))()}},watch:{"$route.params.tableName":function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.$store.commit("reset"),this.$store.commit("updateCurrentTablename",this.tableName),e.next=4,Promise.all([this.fetchRows(),this.fetchSchema()]);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),"$route.query":function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.$store.commit("updateFilterParams",this.$router.currentRoute.query),e.next=3,this.fetchRows();case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),rows:function(){this.resetRowCheckbox()}},mounted:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$store.commit("updateCurrentTablename",e.tableName),e.$store.commit("updateFilterParams",e.$router.currentRoute.query),t.next=4,Promise.all([e.fetchRows(),e.fetchSchema()]);case 4:case"end":return t.stop()}}),t)})))()}}),Jr=qr,Ur=(n("965b"),Object(h["a"])(Jr,Jn,Un,!1,null,null,null)),Kr=Ur.exports,Wr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("DetailViewBase",[e.schema?n("FormAdd",{attrs:{formSlug:e.formSlug,schema:e.schema}}):e._e()],1)},Gr=[],Yr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.formConfig?[n("h1",[e._v(e._s(e.formConfig.name))]),e.formConfig.description?n("p",[e._v(e._s(e.formConfig.description))]):e._e()]:e._e(),n("pre",[e._v(e._s(e.errors))]),e.schema?n("form",{on:{submit:function(t){return t.preventDefault(),e.submitForm(t)}}},[n("NewForm",{attrs:{schema:e.schema}}),n("button",[e._v("Submit")])],1):e._e()],2)},Xr=[],Qr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",e._l(e.schema.properties,(function(t,r){return n("div",{key:t.title},[n("label",[e._v(e._s(t.title))]),n("InputField",{key:r,attrs:{isFilter:!1,title:t.title,type:t.type||t.anyOf[0].type,value:t.default}})],1)})),0)},Zr=[],ea=r["a"].extend({props:{schema:Object},components:{InputField:Ve}}),ta=ea,na=(n("9221"),Object(h["a"])(ta,Qr,Zr,!1,null,"ab98404e",null)),ra=na.exports,aa="./api/",oa=r["a"].extend({props:{formSlug:String,schema:Object},components:{NewForm:ra},data:function(){return{errors:"",formData:{},formConfig:void 0}},watch:{formSlug:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.fetchFormConfig();case 2:case"end":return t.stop()}}),t)})))()}},methods:{fetchFormConfig:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("fetchFormConfig",e.formSlug);case 2:n=t.sent,e.formConfig=n.data;case 4:case"end":return t.stop()}}),t)})))()},submitForm:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){var r,a,o,s,i,u,l,p,m,d,f;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:console.log("I was pressed"),r=new FormData(e.target),a={},o=Object(V["a"])(r.entries());try{for(o.s();!(s=o.n()).done;)i=s.value,u=i[0].split(" ").join("_"),l=i[1],"null"==l?l=null:"array"==t.schema.properties[u].type&&(l=JSON.parse(l)),a[u]=l}catch(h){o.e(h)}finally{o.f()}return n.prev=5,n.next=8,c.a.post("".concat(aa,"forms/").concat(t.formSlug,"/"),a);case 8:p=n.sent,n.next=18;break;case 11:return n.prev=11,n.t0=n["catch"](5),m=n.t0.response.data,d={contents:"The form has errors.",type:"error"},t.$store.commit("updateApiResponseMessage",d),t.errors="string"!=typeof m?JSON.stringify(m,null,2):m,n.abrupt("return");case 18:t.$router.push("/"),f=p.data.message,d={contents:f||"Successfully posted form data",type:"success"},t.$store.commit("updateApiResponseMessage",d);case 22:case"end":return n.stop()}}),n,null,[[5,11]])})))()}},mounted:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.fetchFormConfig();case 2:case"end":return t.stop()}}),t)})))()}}),sa=oa,ia=(n("0647"),Object(h["a"])(sa,Yr,Xr,!1,null,"12b514d0",null)),ca=ia.exports,ua=r["a"].extend({props:["formSlug"],components:{FormAdd:ca,DetailViewBase:Xt},computed:{schema:function(){return this.$store.state.formSchema}},mounted:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("fetchFormSchema",e.formSlug);case 2:case"end":return t.stop()}}),t)})))()}}),la=ua,pa=Object(h["a"])(la,Wr,Gr,!1,null,"f6a98390",null),ma=pa.exports;r["a"].use(F["a"]);var da=new F["a"]({mode:"hash",base:"",routes:[{path:"/",name:"home",component:En},{path:"/login/",name:"login",component:qn},{path:"/forms/:formSlug/",name:"addForm",component:ma,props:!0},{path:"/:tableName/",name:"rowListing",component:Kr,props:!0},{path:"/:tableName/add/",name:"addRow",component:tn,props:!0},{path:"/:tableName/:rowID/",name:"editRow",component:Sn,props:!0}]}),fa=(n("841c"),n("2f62")),ha={state:{showAboutModal:!1},mutations:{updateShowAboutModal:function(e,t){e.showAboutModal=t}}},va={state:{siteName:"Piccolo Admin",piccoloAdminVersion:"Unknown"},mutations:{updateSiteName:function(e,t){e.siteName=t},updatePiccoloAdminVersion:function(e,t){e.piccoloAdminVersion=t}},actions:{fetchMeta:function(e){return Object(s["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,c.a.get("./meta/");case 2:n=t.sent,e.commit("updateSiteName",n.data.site_name),e.commit("updatePiccoloAdminVersion",n.data.piccolo_admin_version);case 5:case"end":return t.stop()}}),t)})))()}}};r["a"].use(fa["a"]);var wa="./api/",ga=new fa["a"].Store({modules:{aboutModalModule:ha,metaModule:va},state:{apiResponseMessage:null,currentPageNumber:1,currentTableName:void 0,darkMode:!1,filterParams:{},pageSize:15,rowCount:0,rows:[],schema:void 0,formSchema:void 0,selectedRow:void 0,sortBy:null,tableNames:[],formConfigs:[],user:void 0,loadingStatus:!1},mutations:{updateTableNames:function(e,t){e.tableNames=t},updateFormConfigs:function(e,t){e.formConfigs=t},updateCurrentTablename:function(e,t){e.currentTableName=t},updateRows:function(e,t){e.rows=t},updateSelectedRow:function(e,t){e.selectedRow=t},updateSchema:function(e,t){e.schema=t},updateFormSchema:function(e,t){e.formSchema=t},updateApiResponseMessage:function(e,t){e.apiResponseMessage=t},updateUser:function(e,t){e.user=t},updateSortBy:function(e,t){e.sortBy=t},reset:function(e){e.sortBy=null,e.filterParams={},e.currentPageNumber=1,e.rows=null},updateFilterParams:function(e,t){e.filterParams=t},updateRowCount:function(e,t){e.rowCount=t},updatePageSize:function(e,t){e.pageSize=t},updateCurrentPageNumber:function(e,t){e.currentPageNumber=t},updateDarkMode:function(e,t){e.darkMode=t,localStorage.setItem("darkMode",String(t))},updateLoadingStatus:function(e,t){e.loadingStatus=t}},actions:{fetchFormConfigs:function(e){return Object(s["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,c.a.get("".concat(wa,"forms/"));case 2:n=t.sent,e.commit("updateFormConfigs",n.data);case 4:case"end":return t.stop()}}),t)})))()},fetchFormConfig:function(e,t){return Object(s["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c.a.get("".concat(wa,"forms/").concat(t,"/"));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))()},fetchFormSchema:function(e,t){return Object(s["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,c.a.get("".concat(wa,"forms/").concat(t,"/schema/"));case 2:return r=n.sent,e.commit("updateFormSchema",r.data),n.abrupt("return",r);case 5:case"end":return n.stop()}}),n)})))()},fetchTableNames:function(e){return Object(s["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,c.a.get("".concat(wa,"tables/"));case 2:n=t.sent,e.commit("updateTableNames",n.data);case 4:case"end":return t.stop()}}),t)})))()},fetchCount:function(e){return Object(s["a"])(regeneratorRuntime.mark((function t(){var n,r,a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.state.currentTableName,r=e.state.filterParams,t.next=4,c.a.get("".concat(wa,"tables/").concat(n,"/count/"),{params:r});case 4:return a=t.sent,o=a.data,e.commit("updateRowCount",o.count),t.abrupt("return",o);case 8:case"end":return t.stop()}}),t)})))()},fetchRows:function(e){return Object(s["a"])(regeneratorRuntime.mark((function t(){var n,r,a,o,s,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.commit("updateLoadingStatus",!0),n=e.state.filterParams,r=e.state.currentTableName,a=e.state.sortBy,a&&(o=a.ascending?"":"-",n["__order"]=o+a.property),t.next=7,e.dispatch("fetchCount");case 7:return s=t.sent,n["__page_size"]=e.state.pageSize,s.count<n["__page_size"]&&e.commit("updateCurrentPageNumber",1),n["__page"]=e.state.currentPageNumber,t.prev=11,t.next=14,c.a.get("".concat(wa,"tables/").concat(r,"/?__readable=true"),{params:n});case 14:i=t.sent,e.commit("updateRows",i.data.rows),t.next=22;break;case 18:t.prev=18,t.t0=t["catch"](11),console.log(t.t0.response),e.commit("updateApiResponseMessage",{contents:"Problem fetching ".concat(r," rows."),type:"error"});case 22:e.commit("updateLoadingStatus",!1);case 23:case"end":return t.stop()}}),t,null,[[11,18]])})))()},fetchTableReferences:function(e,t){return Object(s["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c.a.get("".concat(wa,"tables/").concat(t,"/references/"));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))()},fetchIds:function(e,t){return Object(s["a"])(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={},t.search&&(n["search"]=t.search),t.limit&&(n["limit"]=t.limit),t.offset&&(n["offset"]=t.offset),e.next=6,c.a.get("".concat(wa,"tables/").concat(t.tableName,"/ids/"),{params:n});case 6:return r=e.sent,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})))()},getNew:function(e,t){return Object(s["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c.a.get("".concat(wa,"tables/").concat(t,"/new/"));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))()},fetchSingleRow:function(e,t){return Object(s["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,c.a.get("".concat(wa,"tables/").concat(t.tableName,"/").concat(t.rowID,"/?__readable=true"));case 2:return r=n.sent,e.commit("updateSelectedRow",r.data),n.abrupt("return",r);case 5:case"end":return n.stop()}}),n)})))()},fetchSchema:function(e,t){return Object(s["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,c.a.get("".concat(wa,"tables/").concat(t,"/schema/"));case 2:return r=n.sent,e.commit("updateSchema",r.data),n.abrupt("return",r);case 5:case"end":return n.stop()}}),n)})))()},createRow:function(e,t){return Object(s["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c.a.post("".concat(wa,"tables/").concat(t.tableName,"/"),t.data);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))()},deleteRow:function(e,t){return Object(s["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c.a.delete("".concat(wa,"tables/").concat(t.tableName,"/").concat(t.rowID,"/"));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))()},updateRow:function(e,t){return Object(s["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,c.a.patch("".concat(wa,"tables/").concat(t.tableName,"/").concat(t.rowID,"/"),t.data);case 2:return r=n.sent,e.commit("updateApiResponseMessage",{contents:"Successfully saved row",type:"success"}),n.abrupt("return",r);case 5:case"end":return n.stop()}}),n)})))()},fetchUser:function(e){return Object(s["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,c.a.get("".concat(wa,"user/"));case 2:n=t.sent,e.commit("updateUser",n.data);case 4:case"end":return t.stop()}}),t)})))()}}}),ba=n("ad3d"),_a=n("ecee"),ya=n("c074");_a["c"].add(ya["a"],ya["b"],ya["c"],ya["d"],ya["e"],ya["f"],ya["g"],ya["h"],ya["i"],ya["j"],ya["k"],ya["l"],ya["m"],ya["n"],ya["o"],ya["p"],ya["q"],ya["r"],ya["s"],ya["t"],ya["u"],ya["v"],ya["w"],ya["x"],ya["y"],ya["z"],ya["A"],ya["B"]),r["a"].component("font-awesome-icon",ba["a"]);var xa=n("d604"),Ra=n.n(xa),Na=n("a78e"),ka=n.n(Na);c.a.interceptors.request.use((function(e){if(-1!=["POST","PUT","DELETE","PATCH"].indexOf(e.method.toUpperCase())){var t=ka.a.get("csrftoken");e.headers["X-CSRFToken"]=t}return e})),c.a.defaults.transformResponse=[function(e){if("string"===typeof e)try{e=Ra.a.parse(e)}catch(t){}return e}],r["a"].filter("readable",(function(e){return e.split("_").join(" ")})),r["a"].config.productionTip=!1,new r["a"]({router:da,store:ga,render:function(e){return e(C)}}).$mount("#app")},cff4:function(e,t,n){"use strict";n("c2ce")},d86f:function(e,t,n){"use strict";n("a916")},dc86:function(e,t,n){"use strict";n("52e2")},e179:function(e,t,n){},e869:function(e,t,n){"use strict";n("704e")},e986:function(e,t,n){},ea59:function(e,t,n){"use strict";n("40ff")},edc9:function(e,t,n){"use strict";n("390f")},f6e7:function(e,t,n){"use strict";n("a30c")},fb06:function(e,t,n){}});
//# sourceMappingURL=app.ff41f70e.js.map